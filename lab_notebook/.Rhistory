setwd("/Volumes/Seagate Backup Plus Drive/working_files/current_research/CPOM_Flux/lab_notebook")
spec10 <- read.table("./data/cpom_flux_spec_10jun2014.csv", header = T, sep = ",")
spec12 <- read.table("./data/cpom_flux_spec_12jun2014.csv", header = T, sep = ",")
spec17 <- read.table("./data/cpom_flux_spec_17jun2014.csv", header = T, sep = ",")
spec24 <- read.table("./data/cpom_flux_spec_24jun2014.csv", header = T, sep = ",")
spec01 <- read.table("./data/cpom_flux_spec_1jul2014.csv", header = T, sep = ",")
sod10 <- read.table("./data/cpom_flux_sod_10jun2014.csv", header = T, sep = ",") # imported to get treatment assignments to bod IDs
spec.all <- rbind(spec10, spec12, spec17, spec24, spec01)
a <- (spec.all$abs * 2.303) / 0.01
spec.a <- data.frame(spec.all, a)
day <- c(rep("2014-06-10", length(spec10$bod)), rep("2014-06-12", length(spec12$bod)), rep("2014-06-17", length(spec17$bod)), rep("2014-06-24", length(spec24$bod)), rep("2014-07-01", length(spec01$bod)))
spec.tot <- data.frame(day, spec.a)
treat <- sod10[, c(1, 4, 5)] # selects for the relevant colums from the sod data.frame
spec <- merge(treat, spec.tot, by.x = "bod", by.y = "bod")
spec275 <- spec[spec$wl >= 275 & spec$wl <=295, ]
spec350 <- spec[spec$wl >=350 & spec$wl <= 400, ]
spec275
jnk <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
summary(jnk)
plot(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
abline(jnk)
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
coef(jnk)
s275.1.0 <- coef(s275.1.0)["wl"]
6-10")
)
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
6-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
6-10"))
Extract the slope from the linear model
s275.1.0 <- coef(s275.1.0)["wl"]
s275.1.0 <- coef(s275.1.0)["wl"]
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
s275.1.0.slope <- coef(s275.1.0)["wl"]
dput(spec275)
head(spec275)
lmod
lm
s275.f <- function(s){
for (i in s$bod)
x <- c(i)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- i
y <- c(y, x)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- ii
y <- x
y <- c(y, x)
return(x)
}
s275.f <- function(s){
}
s275.f <- function(s){
for (i in s$bod)
x <- ii
y <- x
y <- c(y, x)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- i
y <- x
y <- c(y, x)
return(x)
}
s275(spec275)
s275.f(spec275)
tapply(log(spec275$a), spec275$bod, range)
tapply(log(spec275$a), spec275$bod, max-min)
tapply(log(spec275$a), spec275$bod, diff)
tapply(log(spec275$a), spec275$bod, max(diff))
max(tapply(log(spec275$a), spec275$bod, diff))
tapply(log(spec275$a), spec275$bod, diff)
tst.s275 <- spec275[spec275$bod == 1:3]
tst.s275 <- spec275[spec275$bod == 1:3,]
dput(tst.275)
dput(tst.s275)
