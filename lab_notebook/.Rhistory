setwd("E:/working_files/current_research/CPOM_Flux/lab_notebook/analysis")
sod <- read.table("./data/CPOM_Flux_SOD.csv", header = T, sep = ",")
setwd("E:/working_files/current_research/CPOM_Flux/lab_notebook")
sod <- read.table("./data/CPOM_Flux_SOD.csv", header = T, sep = ",")
par(las = 1, mar = c(5, 5, 2, 2))
plot(sod.OM ~ days.elap, data = sod, subset = CPOM == "yes", ylim = c(0, 50), xlab = "Days of Incubation", ylab = expression(paste("SOD (", mu, "mol (g OM)"^{-1}, " h"^{-1}, ")")), pch = 1, col = "grey4", cex.axis = 1.5, cex.lab = 1.5, cex = 2)
points(sod.mean.CPOM ~ unique(days.elap), data = sod, type = "b", pch = 16, col = "black", cex = 2.5)
sod.mean.CPOM <- c(mean(sod$sod.OM[sod$days.elap == 0 & sod$CPOM == "yes"]), mean(sod$sod.OM[sod$days.elap == 2 & sod$CPOM == "yes"]), mean(sod$sod.OM[sod$days.elap == 7 & sod$CPOM == "yes"]), mean(sod$sod.OM[sod$days.elap == 14 & sod$CPOM == "yes"]), mean(sod$sod.OM[sod$days.elap == 21 & sod$CPOM == "yes"]))
sod.mean.ctl <- c(mean(sod$sod.OM[sod$days.elap == 0 & sod$CPOM == "no"]), mean(sod$sod.OM[sod$days.elap == 2 & sod$CPOM == "no"], na.rm = T), mean(sod$sod.OM[sod$days.elap == 7 & sod$CPOM == "no"]), mean(sod$sod.OM[sod$days.elap == 14 & sod$CPOM == "no"]), mean(sod$sod.OM[sod$days.elap == 21 & sod$CPOM == "no"]))
par(las = 1, mar = c(5, 5, 2, 2))
plot(sod.OM ~ days.elap, data = sod, subset = CPOM == "yes", ylim = c(0, 50), xlab = "Days of Incubation", ylab = expression(paste("SOD (", mu, "mol (g OM)"^{-1}, " h"^{-1}, ")")), pch = 1, col = "grey4", cex.axis = 1.5, cex.lab = 1.5, cex = 2)
points(sod.mean.CPOM ~ unique(days.elap), data = sod, type = "b", pch = 16, col = "black", cex = 2.5)
points(sod.OM ~ days.elap, data = sod, subset = CPOM == "no", pch = 2, col = "grey4", cex = 2)
points(sod.mean.ctl ~ unique(days.elap), data = sod, type = "b", pch = 17, col = "black", cex = 2.5)
legend(10, 50, c("Leaf Litter Added", "No Leaf Litter"), pch = c(16, 17), cex = 1.5)
dev.copy(jpeg, "./output/plots/SOD_OM_by_days.jpg")
dev.off()
sod10 <- read.table("./data/sod_calculation_10jun2014.csv", header = T, sep = ",")
sod12 <- read.table("./data/sod_calculation_12jun2014.csv", header = T, sep = ",")
sod17 <- read.table("./data/sod_calculation_17jun2014.csv", header = T, sep = ",")
sod24 <- read.table("./data/sod_calculation_24jun2014.csv", header = T, sep = ",")
sod01 <- read.table("./data/sod_calculation_1jul2014.csv", header = T, sep = ",")
botOM <- read.table("./data/CPOM_flux_bottleOM_initial.csv", header = T, sep = ",")
sod10 <- merge(sod10, botOM, by.x = "CPOM", by.y = "CPOM")
mmol.h10 <- sod10$dDO / sod10$incubation.h
mmol.h.OM10 <- mmol.h10 / sod10$tot.OM
## convert to umol to make easier to read
umol.h.OM10 <- mmol.h.OM10 * 1000
sod10 <- read.table("./data/sod_calculation_10jun2014.csv", header = T, sep = ",")
sod12 <- read.table("./data/sod_calculation_12jun2014.csv", header = T, sep = ",")
sod17 <- read.table("./data/sod_calculation_17jun2014.csv", header = T, sep = ",")
sod24 <- read.table("./data/sod_calculation_24jun2014.csv", header = T, sep = ",")
sod01 <- read.table("./data/sod_calculation_1jul2014.csv", header = T, sep = ",")
botOM <- read.table("./data/CPOM_flux_bottleOM_initial.csv", header = T, sep = ",")
sod10 <- merge(sod10, botOM, by.x = "CPOM", by.y = "CPOM")
mmol.h10 <- sod10$dDO / sod10$incubation.h
mmol.h.OM10 <- mmol.h10 / sod10$tot.OM
## convert to umol to make easier to read
umol.h.OM10 <- mmol.h.OM10 * 1000
sod12 <- merge(sod12, botOM, by.x = "CPOM", by.y = "CPOM")
### Normalize flux to sediment OM and time
mmol.h12 <- sod12$dDO / sod12$incubation.h
mmol.h.OM12 <- mmol.h12 / sod12$tot.OM
## convert to umol to make easier to read
umol.h.OM12 <- mmol.h.OM12 * 1000
sod17 <- merge(sod17, botOM, by.x = "CPOM", by.y = "CPOM")
### Normalize flux to sediment OM and time
mmol.h17 <- sod17$dDO / sod17$incubation.h
mmol.h.OM17 <- mmol.h17 / sod17$tot.OM
## convert to umol to make easier to read
umol.h.OM17 <- mmol.h.OM17 * 1000
### Summarize OM normalized Data
summary(umol.h.OM17)
~~~~
)
sod24 <- merge(sod24, botOM, by.x = "CPOM", by.y = "CPOM")
### Normalize flux to sediment OM and time
mmol.h24 <- sod24$dDO / sod24$incubation.h
mmol.h.OM24 <- mmol.h24 / sod24$tot.OM
## convert to umol to make easier to read
umol.h.OM24 <- mmol.h.OM24 * 1000
### Summarize OM normalized Data
sod01 <- merge(sod01, botOM, by.x = "CPOM", by.y = "CPOM")
### Normalize flux to sediment OM and time
mmol.h01 <- sod01$dDO / sod01$incubation.h
mmol.h.OM01 <- mmol.h01 / sod01$tot.OM
## convert to umol to make easier to read
umol.h.OM01 <- mmol.h.OM01 * 1000
### Summarize OM normalized Data
sum.OMflux <- umol.h.OM10 + umol.h.OM12 + umol.h.OM17 + umol.h.OM24 + umol.h.OM01
mean.OMflux <- sum.OMflux / 5
sod.tot <- rbind(sod10, sod12, sod17, sod24, sod01)
date <- c(rep("2014-06-10", 16), rep("2014-06-12", 16), rep("2014-06-17", 16), rep("2014-06-24", 16), rep("2014-07-01", 16))
sod.tot <- data.frame(date, sod.tot)
days10 <- as.numeric(difftime(sod.tot$date[sod.tot$date == "2014-06-10"], sod.tot$date[sod.tot$date == "2014-06-10"], units = "days"))
days12 <- as.numeric(difftime(sod.tot$date[sod.tot$date == "2014-06-12"], sod.tot$date[sod.tot$date == "2014-06-10"], units = "days"))
days17 <- as.numeric(difftime(sod.tot$date[sod.tot$date == "2014-06-17"], sod.tot$date[sod.tot$date == "2014-06-10"], units = "days"))
days24 <- as.numeric(difftime(sod.tot$date[sod.tot$date == "2014-06-24"], sod.tot$date[sod.tot$date == "2014-06-10"], units = "days"))
days01 <- as.numeric(difftime(sod.tot$date[sod.tot$date == "2014-07-01"], sod.tot$date[sod.tot$date == "2014-06-10"], units = "days"))
days.elap <- c(days10, days12, days17, days24, days01)
sod.tot <- data.frame(sod.tot, days.elap)
plot((SOD * 24) ~ days.elap, data = sod.tot, subset = CPOM == "yes", pch = 19, ylim = c(0, 60), ylab = expression(paste("SOD (mmol m"^{-2}, "h"^{-1}, ")")), xlab = "Experiment Days", cex.lab = 1.5, axes = F, cex = 1.5, col = "brown")
par(mar = c(5, 5, 5, 5))
plot((SOD * 24) ~ days.elap, data = sod.tot, subset = CPOM == "yes", pch = 19, ylim = c(0, 60), ylab = expression(paste("SOD (mmol m"^{-2}, "h"^{-1}, ")")), xlab = "Experiment Days", cex.lab = 1.5, axes = F, cex = 1.5, col = "brown")
axis(1, las = 1, cex = 1.5)
axis(2, las = 2, cex = 1.5)
points((SOD * 24) ~ days.elap, data = sod.tot, subset = CPOM == "no", pch = 8, cex = 1.5, col = "blue")
legend(10, 60, c("CPOM", "NO-CPOM"), pch = c(19, 8), col = c("brown", "blue"), cex = 1.5)
dev.copy(png, "./output/plots/CPOM_flux_Aflux_by_date.png")
dev.off()
dev.copy(pdf, "./output/plots/CPOM_flux_Aflux_by_date.pdf")
dev.off()
par(mar = c(5, 5, 5, 5))
plot((SOD * 24) ~ days.elap, data = sod.tot, subset = nutrient == "yes", pch = 17, ylim = c(0, 60), ylab = expression(paste("SOD (mmol m"^{-2}, "h"^{-1}, ")")), xlab = "Experiment Days", cex.lab = 1.5, axes = F, cex = 1.5, col = "brown")
axis(1, las = 1, cex = 1.5)
axis(2, las = 2, cex = 1.5)
points((SOD * 24) ~ days.elap, data = sod.tot, subset = nutrient == "no", pch = 8, cex = 1.5, col = "blue")
legend(10, 60, c("Enriched Nutrients", "Ambient Nutrients"), pch = c(19, 8), col = c("brown", "blue"), cex = 1.5)
dev.copy(png, "./output/plots/nutrient_flux_Aflux_by_date.png")
dev.off()
dev.copy(pdf, "./output/plots/nutrient_flux_Aflux_by_date.pdf")
dev.off()
sod.OM.bot <- sod.tot$dDO/sod.tot$tot.OM
sod.OM.h <- sod.OM.bot/sod.tot$incubation.h
sod.OM.mmol <- sod.OM.h * 24
sod.OM <- sod.OM.mmol * 1000 # flux in umol O2 / g OM / d
par(mar = c(5, 5, 5, 5))
plot(sod.OM ~ days.elap, data = sod.tot, subset = CPOM == "yes", pch = 19, ylim = c(0, 50), ylab = expression(paste("SOD (", mu,"mol (g OM)"^{-1}, "h"^{-1}, ")")), xlab = "Experiment Days", cex.lab = 1.5, axes = F, cex = 1.5, col = "light green")
points(sod.OM ~ days.elap, data = sod.tot, subset = CPOM == "yes", pch = 1, cex = 1.5)
axis(1, las = 1, cex = 1.5)
axis(2, las = 2, cex = 1.5)
points(sod.OM ~ days.elap, data = sod.tot, subset = CPOM == "no", pch = 8, cex = 1.5, col = "blue")
legend(8, 50, c("Leaf Litter ", "No-Leaf Litter "), pch = c(19, 8), col = c("light green", "blue"), cex = 1.5)
legend(8, 50, c("Leaf Litter ", "No-Leaf Litter "), pch = c(1, 8), col = c("black", "blue"), cex = 1.5)
dev.copy(png, "./output/plots/CPOM_flux_OMflux_by_date.png")
dev.off()
dev.copy(pdf, "./output/plots/CPOM_flux_OMflux_by_date.pdf")
dev.off()
par(mar = c(5, 5, 5, 5))
plot(sod.OM ~ days.elap, data = sod.tot, subset = nutrient == "yes", pch = 19, ylim = c(0, 50), ylab = expression(paste("SOD (", mu,"mol (g OM)"^{-1}, "h"^{-1}, ")")), xlab = "Experiment Days", cex.lab = 1.5, axes = F, cex = 1.5, col = "orange")
points(sod.OM ~ days.elap, data = sod.tot, subset = nutrient == "yes", pch = 1, cex = 1.5)
axis(1, las = 1, cex = 1.5)
axis(2, las = 2, cex = 1.5)
points(sod.OM ~ days.elap, data = sod.tot, subset = nutrient == "no", pch = 8, cex = 1.5, col = "blue")
legend(8, 50, c("Enriched Nutrients ", "Ambient Nutrients "), pch = c(19, 8), col = c("orange", "blue"), cex = 1.5)
legend(8, 50, c("Enriched Nutrients ", "Ambient Nutrients "), pch = c(1, 8), col = c("black", "blue"), cex = 1.5)
dev.copy(png, "./output/plots/nutrient_flux_OMflux_by_date.png")
dev.off()
dev.copy(pdf, "./output/plots/nutrient_flux_OMflux_by_date.pdf")
dev.off()
sod.tot <- data.frame(sod.tot, sod.OM)
write.table(sod.tot, "./data/CPOM_Flux_SOD.csv", quote = F, row.names = F, sep = ",")
