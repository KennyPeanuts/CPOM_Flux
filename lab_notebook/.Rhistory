setwd("~/current_research/CPOM_Flux/lab_notebook")
sod_11feb <- read.table("./data/leached_litter_sp_sod_calculation_11feb2016.csv", header = T, sep = ",")
sod_18feb <- read.table("./data/leached_litter_sp_sod_calculation_18feb2016.csv", header = T, sep = ",")
### Combine into a single dataset
sod <- rbind(sod_11feb, sod_18feb)
#### Create a date and incubation day variable
date <- c(rep("2016-02-11", 10), rep("2016-02-18", 10))
# the incubation was begun on 9 Feb 2016
days.elap <- c(rep(2, 10), rep(9, 10))
#### Create as single combined data.frame
sod <- data.frame(date, days.elap, sod)
#### Normalize the SOD by organic matter content
##### Import LOI data
loi <- read.table("./data/leached_litter_Spring_LOI_sp2016.csv", header = T, sep = ",")
##### Remove the initial data
loi.final <- loi[loi$time == "final", ]
##### Calculate the total organic matter in the bottle
leaf.AFDM <- loi.final$AFDM.leaf[loi.final$sample == "leaf"]
leaf.bod <- loi.final$bod[loi.final$sample == "leaf"]
leaf.OM <- data.frame(leaf.bod, leaf.AFDM)
names(leaf.OM) <- c("bod", "leaf.AFDM")
#data frame with a new column of the leaf AFDM
loi.final.tot <- merge(loi.final, leaf.OM, by = "bod")
loi.final.sed <- loi.final.tot[loi.final.tot$sample == "sed", ]
AFDM.tot.LS <- loi.final.sed$AFDM.sample + loi.final.sed$leaf.AFDM
LS.OM <- data.frame(loi.final.sed$bod, AFDM.tot.LS)
names(LS.OM) <- c("bod", "AFDM.tot")
S.OM <- data.frame(loi.final$bod[loi.final$treatment == "S"], loi.final$AFDM.sample[loi.final$treatment == "S"])
names(S.OM) <- c("bod", "AFDM.tot")
OM.tot <- rbind(S.OM, LS.OM)
##### Merge the total OM to the SOD data
sod.om <- merge(sod, OM.tot, by = "bod")
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5)
dDO.OM <- sod.om$dDO / sod.om$AFDM.tot
#### Normalize to h of incubation
SOD.OM <- dDO.OM / sod.om$incubation.h #SOD in mmol O2 / (g AFDM) / h
sod.om <- data.frame(sod.om, SOD.OM)
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5)
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, ")")), pch = 1, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 2.5)
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, ")")), pch = 1, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 2, cex = 2.5)
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, " h"^{-1}, ")")), pch = 1, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 2, cex = 2.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, " h"^{-1}, ")")), pch = 1, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5, cex.axis = 1.5, cex.lab = 1.5)
par(las = 1, mar = c(5, 5, 2, 2))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g OM)"^{-1}, " h"^{-1}, ")")), pch = 1, cex.axis = 1.2, cex.lab = 1.5, cex = 2.5, cex.axis = 1.5, cex.lab = 1.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 2, cex = 2.5)
