setwd("~/current_research/CPOM_Flux/lab_notebook")
sod_11feb <- read.table("./data/leached_litter_sp_sod_calculation_11feb2016.csv", header = T, sep = ",")
sod_18feb <- read.table("./data/leached_litter_sp_sod_calculation_18feb2016.csv", header = T, sep = ",")
sod <- rbind(sod_11feb, sod_18feb)
date <- c(rep("2016-02-11", 10), rep("2016-02-18", 10))
days.elap <- c(rep(2, 10), rep(9, 10))
sod <- data.frame(date, days.elap, sod)
loi <- read.table("./data/leached_litter_Spring_LOI_sp2016.csv", header = T, sep = ",")
loi.final <- loi[loi$time == "final", ]
leaf.AFDM <- loi.final$AFDM.leaf[loi.final$sample == "leaf"]
leaf.bod <- loi.final$bod[loi.final$sample == "leaf"]
leaf.OM <- data.frame(leaf.bod, leaf.AFDM)
names(leaf.OM) <- c("bod", "leaf.AFDM")
#data frame with a new column of the leaf AFDM
loi.final.tot <- merge(loi.final, leaf.OM, by = "bod")
loi.final.sed <- loi.final.tot[loi.final.tot$sample == "sed", ]
AFDM.tot.LS <- loi.final.sed$AFDM.sample + loi.final.sed$leaf.AFDM
LS.OM <- data.frame(loi.final.sed$bod, AFDM.tot.LS)
names(LS.OM) <- c("bod", "AFDM.tot")
S.OM <- data.frame(loi.final$bod[loi.final$treatment == "S"], loi.final$AFDM.sample[loi.final$treatment == "S"])
names(S.OM) <- c("bod", "AFDM.tot")
OM.tot <- rbind(S.OM, LS.OM)
sod.om <- merge(sod, OM.tot, by = "bod")
DO.T0.umol <- sod$DO.T0 * 1000
dDO.OM <- sod.om$dDO / sod.om$AFDM.tot
SOD.OM <- dDO.OM / sod.om$incubation.h #SOD in mmol O2 / (g AFDM) / h
sod.om <- data.frame(sod.om, SOD.OM)
library("lmerTest", lib.loc="~/Library/R/3.1/library")
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1 + days.elap|bod), sod.om))
sod.om
(fm <- lmer(SOD.OM ~ 1 + days.elap + (1 + days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + treatment + (1 + days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + treatment + (days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ treatment + (days.elap|bod), sod.om))
anova(lm(SOD.OM ~ days.elap * treatment, data = sod.om))
anova(lm(SOD.OM ~ treatment, data = sod.om))
(fm <- lmer(SOD.OM ~ (days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + date * treatment + (1 + date|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + date + treatment + (1 + date|bod), sod.om))
(fm <- lmer(SOD.OM ~ (days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + date + (1 + date|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment (1 + days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1 + days.elap|bod), sod.om))
Week
Student	Group	M	W	F
Jacqulyn Payne	Azam
John Tripus	Azam
Kaitlin Velvin	Azam
Jessica Hoak	Carson
Victor Louderback	Carson
Barry Manchester	Carson
Bobby Rae Allen	Hutchinson
Michael Catlin	Hutchinson
Marley Sodikoff	Hutchinson
Madison Soukup	Hutchinson
Morgan Cameron	Lubchenco
Kameron Fradette	Lubchenco
Jacob Taylor	Lubchenco
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1 + days.elap|bod), sod.om))
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1|bod), sod.om))
sod <- read.table("./data/CPOM_Flux_SOD.csv", header = T, sep = ",")
# convert bod from `int` to `Factor`
sod$bod <- as.factor(sod$bod)
(fm <- lmer(sod.OM ~ 1 + days.elap * CPOM * nutrient + (1 + days.elap|bod), sod))
(fm <- lmer(sod.OM ~ 1 + days.elap * CPOM * nutrient + (1|bod), sod))
anova(fm)
(do.mod <- lmer(DO.T0 ~ 1 + days.elap * CPOM * nutrient + (1|bod), sod)) # wrapping in () gives ouput
anova(do.mod)
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1|bod), sod.om))
sod_11feb <- read.table("./data/leached_litter_sp_sod_calculation_11feb2016.csv", header = T, sep = ",")
sod_18feb <- read.table("./data/leached_litter_sp_sod_calculation_18feb2016.csv", header = T, sep = ",")
### Combine into a single dataset
sod <- rbind(sod_11feb, sod_18feb)
#### Create a date and incubation day variable
date <- c(rep("2016-02-11", 10), rep("2016-02-18", 10))
# the incubation was begun on 9 Feb 2016
days.elap <- c(rep(2, 10), rep(9, 10))
#### Create as single combined data.frame
sod <- data.frame(date, days.elap, sod)
#### Normalize the SOD by organic matter content
##### Import LOI data
loi <- read.table("./data/leached_litter_Spring_LOI_sp2016.csv", header = T, sep = ",")
##### Remove the initial data
loi.final <- loi[loi$time == "final", ]
##### Calculate the total organic matter in the bottle
leaf.AFDM <- loi.final$AFDM.leaf[loi.final$sample == "leaf"]
leaf.bod <- loi.final$bod[loi.final$sample == "leaf"]
leaf.OM <- data.frame(leaf.bod, leaf.AFDM)
names(leaf.OM) <- c("bod", "leaf.AFDM")
loi.final.tot <- merge(loi.final, leaf.OM, by = "bod")
loi.final.sed <- loi.final.tot[loi.final.tot$sample == "sed", ]
Now that I have a data frame (`loi.final.tot`) that has the leaf.AFDM and sediment AFDM in different columns, I can add them for the LS bottles
AFDM.tot.LS <- loi.final.sed$AFDM.sample + loi.final.sed$leaf.AFDM
##### Create data frame of the total organic matter and the BOD number to merge with the SOD data
LS.OM <- data.frame(loi.final.sed$bod, AFDM.tot.LS)
names(LS.OM) <- c("bod", "AFDM.tot")
S.OM <- data.frame(loi.final$bod[loi.final$treatment == "S"], loi.final$AFDM.sample[loi.final$treatment == "S"])
names(S.OM) <- c("bod", "AFDM.tot")
OM.tot <- rbind(S.OM, LS.OM)
##### Merge the total OM to the SOD data
sod.om <- merge(sod, OM.tot, by = "bod")
DO.T0.umol <- sod$DO.T0 * 1000
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1|bod), sod.om))
### OM Normalized SOD
#### Normalize the change in O2 by AFDM
dDO.OM <- sod.om$dDO / sod.om$AFDM.tot
#### Normalize to h of incubation
SOD.OM <- dDO.OM / sod.om$incubation.h #SOD in mmol O2 / (g AFDM) / h
#### Add to OM normalized data to sod data.frame
sod.om <- data.frame(sod.om, SOD.OM)
(fm <- lmer(SOD.OM ~ 1 + days.elap * treatment + (1|bod), sod.om))
anova(fm)
summary(sod.om$SOD.OM
)
summary(sod.om$SOD.OM*1000)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OMi * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu,"mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu,"mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu"mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (mol ", O[2], "(g AFDM)"^{-1} ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 2.5, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
legend(12, 100, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 100, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
dev.copy(jpeg, "./output/plots/leached_litter_SOD.OM_by_days.jpg")
dev.off()
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu,"mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu"mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu"mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 100, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD ("mu, "mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (",mu, "mol ", O[2], "(g AFDM)"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
points(SOD.OM * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 100, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
dev.copy(jpeg, "./output/plots/leached_litter_SOD.OM_by_days.jpg")
dev.off()
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 100), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (", mu, "mol ", O[2], " m"^{-2}, " h"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 2.5, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
dev.copy(jpeg, "./output/plots/leached_litter_SOD_by_days.jpg")
dev.off()
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 250), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (", mu, "mol ", O[2], " m"^{-2}, " h"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
par(las = 1, mar = c(6, 6, 3, 3))
plot(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "LS", ylim = c(0, 1000), xlim = c(0, 21), xlab = "Days of Incubation", ylab = expression(paste("SOD (", mu, "mol ", O[2], " m"^{-2}, " h"^{-1}, ")")), pch = 4, cex.axis = 1.2, cex.lab = 1.5, cex = 1.5)
points(SOD * 1000 ~ days.elap, data = sod.om, subset = treatment == "S", pch = 1, cex = 1.5)
legend(12, 1000, c("Leaf Litter", "No Leaf Litter"), pch = c(4, 1), cex = 1)
dev.copy(jpeg, "./output/plots/leached_litter_SOD_by_days.jpg")
dev.off()
