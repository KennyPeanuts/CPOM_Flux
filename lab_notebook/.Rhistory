setwd("~/current_research/CPOM_Flux/lab_notebook")
sod_11feb <- read.table("./data/leached_litter_sp_sod_calculation_11feb2016.csv", header = T, sep = ",")
sod_18feb <- read.table("./data/leached_litter_sp_sod_calculation_18feb2016.csv", header = T, sep = ",")
### Combine into a single dataset
sod <- rbind(sod_11feb, sod_18feb)
#### Create a date and incubation day variable
date <- c(rep("2016-02-11", 10), rep("2016-02-18", 10))
# the incubation was begun on 9 Feb 2016
days.elap <- c(rep(2, 10), rep(9, 10))
#### Create as single combined data.frame
sod <- data.frame(date, days.elap, sod)
#### Normalize the SOD by organic matter content
##### Import LOI data
loi <- read.table("./data/leached_litter_Spring_LOI_sp2016.csv", header = T, sep = ",")
##### Remove the initial data
loi.final <- loi[loi$time == "final", ]
##### Calculate the total organic matter in the bottle
leaf.AFDM <- loi.final$AFDM.leaf[loi.final$sample == "leaf"]
leaf.bod <- loi.final$bod[loi.final$sample == "leaf"]
leaf.OM <- data.frame(leaf.bod, leaf.AFDM)
names(leaf.OM) <- c("bod", "leaf.AFDM")
#data frame with a new column of the leaf AFDM
loi.final.tot <- merge(loi.final, leaf.OM, by = "bod")
loi.final.sed <- loi.final.tot[loi.final.tot$sample == "sed", ]
AFDM.tot.LS <- loi.final.sed$AFDM.sample + loi.final.sed$leaf.AFDM
LS.OM <- data.frame(loi.final.sed$bod, AFDM.tot.LS)
names(LS.OM) <- c("bod", "AFDM.tot")
S.OM <- data.frame(loi.final$bod[loi.final$treatment == "S"], loi.final$AFDM.sample[loi.final$treatment == "S"])
names(S.OM) <- c("bod", "AFDM.tot")
OM.tot <- rbind(S.OM, LS.OM)
sod.om <- merge(sod, OM.tot, by = "bod")
DO.T0.umol <- sod$DO.T0 * 1000
dDO.OM <- sod.om$dDO / sod.om$AFDM.tot
#### Normalize to h of incubation
SOD.OM <- dDO.OM / sod.om$incubation.h #SOD in mmol O2 / (g AFDM) / h
#### Add to OM normalized data to sod data.frame
sod.om <- data.frame(sod.om, SOD.OM)
summary(sod.om$SOD)
summary(sod.om$SOD * 1000)
sd(sod.om$SOD * 1000)
tapply((sod.om$SOD * 1000), sod.om$treatment, summary)
sd((sod.om$SOD * 1000), sod.om$treatment, summary)
tapply((sod.om$SOD * 1000), sod.om$treatment, sd)
summary(sod.om$SOD.OM * 1000)
sd(sod.om$SOD.OM * 1000)
tapply(sod.om$SOD.OM * 1000, sod.om$treatment, summary)
tapply(sod.om$SOD.OM * 1000, sod.om$treatment, sd)
