setwd("/Volumes/Seagate Backup Plus Drive/working_files/current_research/CPOM_Flux/lab_notebook")
spec10 <- read.table("./data/cpom_flux_spec_10jun2014.csv", header = T, sep = ",")
spec12 <- read.table("./data/cpom_flux_spec_12jun2014.csv", header = T, sep = ",")
spec17 <- read.table("./data/cpom_flux_spec_17jun2014.csv", header = T, sep = ",")
spec24 <- read.table("./data/cpom_flux_spec_24jun2014.csv", header = T, sep = ",")
spec01 <- read.table("./data/cpom_flux_spec_1jul2014.csv", header = T, sep = ",")
sod10 <- read.table("./data/cpom_flux_sod_10jun2014.csv", header = T, sep = ",") # imported to get treatment assignments to bod IDs
spec.all <- rbind(spec10, spec12, spec17, spec24, spec01)
a <- (spec.all$abs * 2.303) / 0.01
spec.a <- data.frame(spec.all, a)
day <- c(rep("2014-06-10", length(spec10$bod)), rep("2014-06-12", length(spec12$bod)), rep("2014-06-17", length(spec17$bod)), rep("2014-06-24", length(spec24$bod)), rep("2014-07-01", length(spec01$bod)))
spec.tot <- data.frame(day, spec.a)
treat <- sod10[, c(1, 4, 5)] # selects for the relevant colums from the sod data.frame
spec <- merge(treat, spec.tot, by.x = "bod", by.y = "bod")
spec275 <- spec[spec$wl >= 275 & spec$wl <=295, ]
spec350 <- spec[spec$wl >=350 & spec$wl <= 400, ]
spec275
jnk <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
summary(jnk)
plot(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
abline(jnk)
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
coef(jnk)
s275.1.0 <- coef(s275.1.0)["wl"]
6-10")
)
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
6-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-0
6-10"))
Extract the slope from the linear model
s275.1.0 <- coef(s275.1.0)["wl"]
s275.1.0 <- coef(s275.1.0)["wl"]
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10"))
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
s275.1.0.slope <- coef(s275.1.0)["wl"]
dput(spec275)
head(spec275)
lmod
lm
s275.f <- function(s){
for (i in s$bod)
x <- c(i)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- i
y <- c(y, x)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- ii
y <- x
y <- c(y, x)
return(x)
}
s275.f <- function(s){
}
s275.f <- function(s){
for (i in s$bod)
x <- ii
y <- x
y <- c(y, x)
return(x)
}
s275.f(spec275)
s275.f <- function(s){
for (i in s$bod)
x <- i
y <- x
y <- c(y, x)
return(x)
}
s275(spec275)
s275.f(spec275)
tapply(log(spec275$a), spec275$bod, range)
tapply(log(spec275$a), spec275$bod, max-min)
tapply(log(spec275$a), spec275$bod, diff)
tapply(log(spec275$a), spec275$bod, max(diff))
max(tapply(log(spec275$a), spec275$bod, diff))
tapply(log(spec275$a), spec275$bod, diff)
tst.s275 <- spec275[spec275$bod == 1:3]
tst.s275 <- spec275[spec275$bod == 1:3,]
dput(tst.275)
dput(tst.s275)
?with
 slope.lm <- function(x){
      coef(lm(log(a), wl, data = x))[2]
    }
ls()
ls()
spl.data
coefLM(spec275)
log(spec275$a)


coef(lm(log(a), wl, data = spec275))
LM.slope(spec275)
coef(lm(log(a) ~ wl, data = spec275))
slopes
?transform
as.numeric(slopes)
unique(spec275[, c("day", "bod")]
)
s275
head(s275)
s275
s275.1.0 <- lm(log(a) ~ wl, data = spec275, subset = bod == 8 & day == "2014-06-17")
s275.1.0
lm(log(a) ~ wl, data = spec275, subset = bod == 16 & day == "2014-06-17")
lm(log(a) ~ wl, data = spec275, subset = bod == 16 & day == "2014-06-10")
lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-12")
lm(log(a) ~ wl, data = spec275, subset = bod == 1 & day == "2014-06-10")
spl.data
head(spl.data)
head(spl.data)
slopes
lm(log(a) ~ wl, data = spec275, subset = bod == 16 & day == "2014-06-24")
lm(log(a) ~ wl, data = spec275, subset = bod == 14 & day == "2014-06-10")
?merge
str(slopes)
slopes[2]
slopes[,2]
slopes[2,]
names(slopes)
unique(spec275[, c("day", "bod")]
)
spec275
jnk <- with(spec275, split(spec275, list(bod = bod, day = day)))
jnk
rm(jnk)
elapsed.d
spec275[spec275$day == "2014-06-10"] <- 0
spec275$day[spec275$day == "2014-06-10"] <- 0
spec275$day[spec275$day == "2014-06-10"] <- "0"
spec275$day[spec275$day == "2014-06-10"]
str(spec275)
spec275$day
spec275$day
str(spec275)
spec275$day[spec275$day == "2014-06-10"] <- "0"
spec275$day[spec275$day == "2014-06-10"] <- "A"
spec275$day <- as.character(spec275$day)
str(spec275)
spec275$day[spec275$day == "2014-06-10"] <- "0"
spec275$day
length(spec275)
spec275
elapsed.d <- rep(0, 50029)
spec275 <- data,frame(spec275, elapsed.d)
spec275 <- data.frame(spec275, elapsed.d)
count(spec275)
str(spec275)
elapsed.d <- rep(0, 1680)
spec275 <- data.frame(spec275, elapsed.d)
spec275elapsed.d[spec275$day == "2014-06-12"] <- 2 
spec275$elapsed.d[spec275$day == "2014-06-12"] <- 2 
spec275$elapsed.d
unique(spec275$day)
str(spec275)
str(spec275)
unique(spec275$day)
unique(spec275$elapsed.d)
)
ids.spec275
?sort
?order
ids.spec275
ids.spec275
sort(ids.spec275)
order(ids.spec275)
sort(ids.spec275$elapsed.d)
merge(ids.spec275, sort(ids.spec275$elapsed.d), by = ids.spec275$elapsed.d)
merge(ids.spec275, sort(ids.spec275$elapsed.d), by = elapsed.d)
spec275
str(spec275)
ls()
str(slopes)
slopes
bod
bod
sort(bod)
data.frame(bod, elapsed.d)
bod
elapsed.d
slopes
str(spec275.slopes)
spec275.slopes
str(spec275)
slopes
length(slopes)
ls()
spl.data
slopes
str(spec350)
unique(spec350$elapsed.d)
spec275)
spec275
str(spec275)
str(spec350)
slopes
elapsed.d
elapsed.d
spec350
spec350
spl.data
slopes
length(slopes
)
length(bod)
length(elapsed.d)
str(spec350)
str(spec275)
str(spec275.slopes)
str(spec350.slopes)
s.ratio
s.ratio
s.ratio
str(s.ratio)
plot(s.ratio$s.ratio)
hist(s.ratio$s.ratio)
str(s.ratio)
list.files)
list.files()
getwd()
setwd("/media/Seagate Backup Plus Drive/working_files/current_research/CPOM_Flux/lab_notebook/")
str(treat)
merge(treat, s.ratio, by.x = "bod", by.y = "bod")
str(s.ratio)
str(s.ratio)
plot(s.ratio ~ elapsed.d, data = s.ratio)
plot(s.ratio ~ elapsed.d, data = s.ratio, subset = CPOM == "yes")
str(s.ratio)
plot(s.ratio ~ elapsed.d, data = s.ratio)
plot(s.ratio ~ elapsed.d, data = s.ratio, subset = CPOM == "yes")
points(s.ratio ~ elapsed.d, data = s.ratio, subset = CPOM == "no", pch = 16)
rm(list = ls())
ls()
ls()
str(sratio)
ls()
rm(list = ls())
str(sratio)
str(Eratio)
str(sratio)
install.packages(lmerTest)
install.packages("lmerTest")
y
install.packages()
with(sratio, sapply(s.ratio, mean))
with(sratio, sapply(s.ratio[CPOM == "yes"], mean))
length(sratio.CPOM)
with(sratio, length(elapsed.d[CPOM == "yes"]))
plot(sratio.CPOM ~ unique(sratio$elapsed.d))
sratio.COM
sratio.CPOM
with(sratio, sapply(s.ratio, elapsed.d, mean)
)
with(sratio, tapply(s.ratio, elapsed.d, mean))
with(sratio, as.numeric(tapply(s.ratio, elapsed.d, mean)))
    sratio.CPOM <- with(sratio, tapply(s.ratio[CPOM == "yes"], elapsed.d[CPOM == "yes"], mean))
    sratio.CPOM <- with(sratio, tapply(s.ratio[CPOM == "yes"], elapsed.d[CPOM == "yes"], mean))
sratio.CPOM
plot(sratio.CPOM)
plot(sratio.CPOM, type = b)
plot(sratio.CPOM, type = "b")
plot(sratio.CPOM ~ unique(elapsed.d), data = sratio, type = "b")
unique(elapsed.d)
unique(sratio$elapsed.d)
plot(sratio.noCPOM ~ c(0, 2, 7, 14, 21))
plot(sratio.noCPOM ~ c(0, 2, 7, 14, 21), type = "b")
plot(sratio.noCPOM ~ c(0, 2, 7, 14, 21), type = "b", pch = 17)
q()
n
